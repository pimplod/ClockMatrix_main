<HTML>
<HEAD>
<TITLE>Listing of DS1307.c</TITLE>
<LINK rel=stylesheet href="udf_styles.css" type="text/css">
</HEAD>
<BODY>
<table class="">
<tr><td><code><i>     1</i> </code></td><td><code>&nbsp /*&nbsp ***************************************************************************</code></td></tr>
<tr><td><code><i>     2</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp&nbsp&nbsp DS1307.c</code></td></tr>
<tr><td><code><i>     3</i> </code></td><td><code>&nbsp &nbsp **</code></td></tr>
<tr><td><code><i>     4</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp Project&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp :&nbsp ClockMatrix_v0</code></td></tr>
<tr><td><code><i>     5</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp Target&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp :&nbsp PIC18F14K50</code></td></tr>
<tr><td><code><i>     6</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp Description&nbsp&nbsp :&nbsp Project&nbsp used&nbsp to&nbsp develop&nbsp clock&nbsp firmware.&nbsp&nbsp Tested&nbsp methods&nbsp and</code></td></tr>
<tr><td><code><i>     7</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp determined&nbsp functionality&nbsp (needed,&nbsp wanted,&nbsp and&nbsp the&nbsp possible)</code></td></tr>
<tr><td><code><i>     8</i> </code></td><td><code>&nbsp &nbsp **</code></td></tr>
<tr><td><code><i>     9</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp Compiler&nbsp&nbsp&nbsp&nbsp&nbsp :&nbsp HI-TECH&nbsp C&nbsp&nbsp Version&nbsp 9.80</code></td></tr>
<tr><td><code><i>    10</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp IDE&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp :&nbsp MPLABX&nbsp v1.80</code></td></tr>
<tr><td><code><i>    11</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp Created&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp :&nbsp 5/8/2013</code></td></tr>
<tr><td><code><i>    12</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp Branched&nbsp&nbsp&nbsp&nbsp&nbsp :&nbsp 6/27/2013&nbsp --&nbsp started&nbsp v2</code></td></tr>
<tr><td><code><i>    13</i> </code></td><td><code>&nbsp &nbsp **</code></td></tr>
<tr><td><code><i>    14</i> </code></td><td><code>&nbsp &nbsp **&nbsp&nbsp R&nbsp Hanlen&nbsp&lsaquo  implod@gmail.com&rsaquo  </code></td></tr>
<tr><td><code><i>    15</i> </code></td><td><code>&nbsp &nbsp **&nbsp ***************************************************************************/</code></td></tr>
<tr><td><code><i>    16</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    17</i> </code></td><td><code>&nbsp /*****************************************************************************</code></td></tr>
<tr><td><code><i>    18</i> </code></td><td><code>&nbsp &nbsp **HEADER&nbsp FILES</code></td></tr>
<tr><td><code><i>    19</i> </code></td><td><code>&nbsp &nbsp *****************************************************************************/</code></td></tr>
<tr><td><code><i>    20</i> </code></td><td><code>&nbsp //&nbsp&nbsp Global</code></td></tr>
<tr><td><code><i>    21</i> </code></td><td><code>&nbsp #include&nbsp&lsaquo  xc.h&rsaquo &nbsp </code></td></tr>
<tr><td><code><i>    22</i> </code></td><td><code>&nbsp #include&nbsp&lsaquo  stdint.h&rsaquo  </code></td></tr>
<tr><td><code><i>    23</i> </code></td><td><code>&nbsp #include&nbsp&lsaquo  string.h&rsaquo  </code></td></tr>
<tr><td><code><i>    24</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    25</i> </code></td><td><code>&nbsp //&nbsp&nbsp Local</code></td></tr>
<tr><td><code><i>    26</i> </code></td><td><code>&nbsp #include&nbsp "global.h"</code></td></tr>
<tr><td><code><i>    27</i> </code></td><td><code>&nbsp #include&nbsp "DS1307.h"</code></td></tr>
<tr><td><code><i>    28</i> </code></td><td><code>&nbsp #include&nbsp "swI2C.h"</code></td></tr>
<tr><td><code><i>    29</i> </code></td><td><code>&nbsp #include&nbsp "display.h"</code></td></tr>
<tr><td><code><i>    30</i> </code></td><td><code>&nbsp /*****************************************************************************</code></td></tr>
<tr><td><code><i>    31</i> </code></td><td><code>&nbsp &nbsp **VARABLES</code></td></tr>
<tr><td><code><i>    32</i> </code></td><td><code>&nbsp &nbsp *****************************************************************************/</code></td></tr>
<tr><td><code><i>    33</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    34</i> </code></td><td><code>&nbsp /*****************************************************************************</code></td></tr>
<tr><td><code><i>    35</i> </code></td><td><code>&nbsp &nbsp **FUNCTIONS</code></td></tr>
<tr><td><code><i>    36</i> </code></td><td><code>&nbsp &nbsp *****************************************************************************/</code></td></tr>
<tr><td><code><i>    37</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    38</i> </code></td><td><code>&nbsp uint8_t&nbsp RTCInit(void){</code></td></tr>
<tr><td><code><i>    39</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    40</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.tstring[2]&nbsp =&nbsp 58;//&nbsp ':'</code></td></tr>
<tr><td><code><i>    41</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.dstring[2]&nbsp =&nbsp 47;&nbsp //&nbsp '/'</code></td></tr>
<tr><td><code><i>    42</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    43</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp if&nbsp (AckPolling(DS1307_ID))&nbsp {&nbsp //check&nbsp if&nbsp rtc&nbsp responds&nbsp on&nbsp i2c&nbsp bus</code></td></tr>
<tr><td><code><i>    44</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp return(RTC_NOT_RESPONDING);</code></td></tr>
<tr><td><code><i>    45</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>    46</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    47</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp RTCGetDateTime();</code></td></tr>
<tr><td><code><i>    48</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp if&nbsp (dateTime.sec&nbsp&rsaquo &nbsp 60)&nbsp {&nbsp //check&nbsp if&nbsp oscillator&nbsp is&nbsp running</code></td></tr>
<tr><td><code><i>    49</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //RTCStartClock();</code></td></tr>
<tr><td><code><i>    50</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp return(RTC_CLOCKHALT_BIT_SET);</code></td></tr>
<tr><td><code><i>    51</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>    52</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    53</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp return(RTC_INITIALIZED);&nbsp&nbsp //&nbsp everything&nbsp checks&nbsp out</code></td></tr>
<tr><td><code><i>    54</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>    55</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    56</i> </code></td><td><code>&nbsp void&nbsp RTCStartClock(void){</code></td></tr>
<tr><td><code><i>    57</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    58</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>    59</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(DS1307_ID);&nbsp //&nbsp Address</code></td></tr>
<tr><td><code><i>    60</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_SECONDS);&nbsp //&nbsp Start&nbsp from&nbsp address&nbsp 0</code></td></tr>
<tr><td><code><i>    61</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(0x00);</code></td></tr>
<tr><td><code><i>    62</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StopI2C();</code></td></tr>
<tr><td><code><i>    63</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    64</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>    65</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    66</i> </code></td><td><code>&nbsp void&nbsp RTCStopClock(void){</code></td></tr>
<tr><td><code><i>    67</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    68</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>    69</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(DS1307_ID);&nbsp //&nbsp Device</code></td></tr>
<tr><td><code><i>    70</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_SECONDS);&nbsp //&nbsp Address</code></td></tr>
<tr><td><code><i>    71</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_CH_BIT);</code></td></tr>
<tr><td><code><i>    72</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StopI2C();</code></td></tr>
<tr><td><code><i>    73</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    74</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>    75</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    76</i> </code></td><td><code>&nbsp void&nbsp RTCGetDateTime(void){</code></td></tr>
<tr><td><code><i>    77</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    78</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp i2cBuffer;</code></td></tr>
<tr><td><code><i>    79</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>    80</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(DS1307_ID);&nbsp //&nbsp Device</code></td></tr>
<tr><td><code><i>    81</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_SECONDS);&nbsp //&nbsp Address</code></td></tr>
<tr><td><code><i>    82</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp repeated&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>    83</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(0xD1);&nbsp //&nbsp Device&nbsp plus&nbsp R/W=1</code></td></tr>
<tr><td><code><i>    84</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(1);&nbsp //&nbsp Read&nbsp seconds&nbsp byte</code></td></tr>
<tr><td><code><i>    85</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.sec&nbsp =&nbsp bcd_to_dec(i2cBuffer);</code></td></tr>
<tr><td><code><i>    86</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(1);&nbsp //&nbsp Read&nbsp minutes&nbsp byte</code></td></tr>
<tr><td><code><i>    87</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.min&nbsp =&nbsp bcd_to_dec(i2cBuffer);</code></td></tr>
<tr><td><code><i>    88</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(1);&nbsp //&nbsp Read&nbsp hours&nbsp byte</code></td></tr>
<tr><td><code><i>    89</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.hour&nbsp =&nbsp bcd_to_dec(i2cBuffer&nbsp &&nbsp 0x1F);</code></td></tr>
<tr><td><code><i>    90</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(1);&nbsp //&nbsp Read&nbsp day&nbsp of&nbsp week&nbsp byte</code></td></tr>
<tr><td><code><i>    91</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.wday&nbsp =&nbsp bcd_to_dec(i2cBuffer);</code></td></tr>
<tr><td><code><i>    92</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(1);&nbsp //Read&nbsp date&nbsp of&nbsp month</code></td></tr>
<tr><td><code><i>    93</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.mday&nbsp =&nbsp bcd_to_dec(i2cBuffer);</code></td></tr>
<tr><td><code><i>    94</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(1);&nbsp //&nbsp Read&nbsp month&nbsp byte</code></td></tr>
<tr><td><code><i>    95</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.mon&nbsp =&nbsp bcd_to_dec(i2cBuffer);</code></td></tr>
<tr><td><code><i>    96</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp RecieveI2C(0);&nbsp //&nbsp Read&nbsp last&nbsp to&nbsp digits&nbsp of&nbsp year&nbsp byte</code></td></tr>
<tr><td><code><i>    97</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.year&nbsp =&nbsp bcd_to_dec(i2cBuffer);</code></td></tr>
<tr><td><code><i>    98</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StopI2C();&nbsp //&nbsp Issue&nbsp stop&nbsp signal</code></td></tr>
<tr><td><code><i>    99</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   100</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //RtcNumberToString(dateTime.hour,dateTime.min,dateTime.tstring);</code></td></tr>
<tr><td><code><i>   101</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //RtcNumberToString(dateTime.mon,dateTime.mday,dateTime.dstring);</code></td></tr>
<tr><td><code><i>   102</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   103</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   104</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   105</i> </code></td><td><code>&nbsp void&nbsp RTCSetTime(void){</code></td></tr>
<tr><td><code><i>   106</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp i2cBuffer;</code></td></tr>
<tr><td><code><i>   107</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   108</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>   109</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(DS1307_ID);&nbsp //&nbsp Device</code></td></tr>
<tr><td><code><i>   110</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_SECONDS);&nbsp //&nbsp Address</code></td></tr>
<tr><td><code><i>   111</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.sec);</code></td></tr>
<tr><td><code><i>   112</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer);&nbsp //seconds</code></td></tr>
<tr><td><code><i>   113</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.min);</code></td></tr>
<tr><td><code><i>   114</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer);&nbsp //minutes</code></td></tr>
<tr><td><code><i>   115</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.hour);</code></td></tr>
<tr><td><code><i>   116</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer&nbsp |&nbsp 0x40);&nbsp //hours</code></td></tr>
<tr><td><code><i>   117</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.wday);</code></td></tr>
<tr><td><code><i>   118</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer);&nbsp //Day</code></td></tr>
<tr><td><code><i>   119</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.mday);</code></td></tr>
<tr><td><code><i>   120</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer);&nbsp //Date</code></td></tr>
<tr><td><code><i>   121</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.mon);</code></td></tr>
<tr><td><code><i>   122</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer);&nbsp //Month</code></td></tr>
<tr><td><code><i>   123</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp i2cBuffer&nbsp =&nbsp dec_to_bcd(dateTime.year);</code></td></tr>
<tr><td><code><i>   124</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(i2cBuffer);&nbsp //Year</code></td></tr>
<tr><td><code><i>   125</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StopI2C();</code></td></tr>
<tr><td><code><i>   126</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   127</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   128</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   129</i> </code></td><td><code>&nbsp void&nbsp RTCGetControl(void){</code></td></tr>
<tr><td><code><i>   130</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   131</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>   132</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(DS1307_ID);&nbsp //&nbsp Device</code></td></tr>
<tr><td><code><i>   133</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_CONTROL);&nbsp //&nbsp Address</code></td></tr>
<tr><td><code><i>   134</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp repeated&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>   135</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(0xD1);&nbsp //&nbsp Device&nbsp plus&nbsp R/W=1</code></td></tr>
<tr><td><code><i>   136</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp dateTime.cntrl&nbsp =&nbsp RecieveI2C(0);&nbsp //&nbsp Read&nbsp seconds&nbsp byte</code></td></tr>
<tr><td><code><i>   137</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StopI2C();&nbsp //&nbsp Issue&nbsp stop&nbsp signal</code></td></tr>
<tr><td><code><i>   138</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   139</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   140</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   141</i> </code></td><td><code>&nbsp void&nbsp RTCSetControl(uint8_t&nbsp value){</code></td></tr>
<tr><td><code><i>   142</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   143</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StartI2C();&nbsp //&nbsp Issue&nbsp start&nbsp signal</code></td></tr>
<tr><td><code><i>   144</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(DS1307_ID);&nbsp //&nbsp Device</code></td></tr>
<tr><td><code><i>   145</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(RTC_CONTROL);&nbsp //&nbsp Address</code></td></tr>
<tr><td><code><i>   146</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp TransmitI2C(value);&nbsp //seconds</code></td></tr>
<tr><td><code><i>   147</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp StopI2C();</code></td></tr>
<tr><td><code><i>   148</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   149</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   150</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   151</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   152</i> </code></td><td><code>&nbsp void&nbsp RtcNumberToString(uint8_t&nbsp number1,&nbsp uint8_t&nbsp number2,char&nbsp *string){</code></td></tr>
<tr><td><code><i>   153</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   154</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp if&nbsp (((number1)&nbsp /&nbsp 10)&nbsp&rsaquo &nbsp 0)&nbsp {</code></td></tr>
<tr><td><code><i>   155</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (number1&nbsp ==&nbsp 11)&nbsp {</code></td></tr>
<tr><td><code><i>   156</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp string[0]&nbsp =&nbsp 34;//&nbsp '"'</code></td></tr>
<tr><td><code><i>   157</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp string[1]&nbsp =&nbsp 34;//&nbsp '"'</code></td></tr>
<tr><td><code><i>   158</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }&nbsp else&nbsp {</code></td></tr>
<tr><td><code><i>   159</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp string[0]&nbsp =&nbsp 33;//&nbsp '!'</code></td></tr>
<tr><td><code><i>   160</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp string[1]&nbsp =&nbsp (number1&nbsp %&nbsp 10)&nbsp +&nbsp 48;//&nbsp '0'</code></td></tr>
<tr><td><code><i>   161</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   162</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp else&nbsp {</code></td></tr>
<tr><td><code><i>   163</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp string[0]&nbsp =&nbsp 32;//&nbsp '&nbsp '</code></td></tr>
<tr><td><code><i>   164</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp string[1]&nbsp =&nbsp (number1&nbsp %&nbsp 10)&nbsp +&nbsp 48;//&nbsp '0'</code></td></tr>
<tr><td><code><i>   165</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   166</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp string[3]&nbsp =&nbsp (number2&nbsp /&nbsp 10)&nbsp +&nbsp 48;//&nbsp '0'</code></td></tr>
<tr><td><code><i>   167</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp string[4]&nbsp =&nbsp (number2&nbsp %&nbsp 10)&nbsp +&nbsp 48;//&nbsp '0'</code></td></tr>
<tr><td><code><i>   168</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp string[5]&nbsp =&nbsp '\0';</code></td></tr>
<tr><td><code><i>   169</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   170</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   171</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   172</i> </code></td><td><code>&nbsp void&nbsp DateStringLong(void){</code></td></tr>
<tr><td><code><i>   173</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   174</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp tstring[16];</code></td></tr>
<tr><td><code><i>   175</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp unsigned&nbsp char&nbsp number1,&nbsp number2;</code></td></tr>
<tr><td><code><i>   176</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp int&nbsp length;</code></td></tr>
<tr><td><code><i>   177</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   178</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //RTCGetDateTime();</code></td></tr>
<tr><td><code><i>   179</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //&nbsp Blank&nbsp the&nbsp string</code></td></tr>
<tr><td><code><i>   180</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp tstring[0]&nbsp =&nbsp '\0';</code></td></tr>
<tr><td><code><i>   181</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   182</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp switch&nbsp (dateTime.wday)&nbsp {</code></td></tr>
<tr><td><code><i>   183</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 1:&nbsp strcat(tstring,&nbsp "MON&nbsp ");</code></td></tr>
<tr><td><code><i>   184</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   185</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 2:&nbsp strcat(tstring,&nbsp "TUE&nbsp ");</code></td></tr>
<tr><td><code><i>   186</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   187</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 3:&nbsp strcat(tstring,&nbsp "WED&nbsp ");</code></td></tr>
<tr><td><code><i>   188</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   189</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 4:&nbsp strcat(tstring,&nbsp "THU&nbsp ");</code></td></tr>
<tr><td><code><i>   190</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   191</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 5:&nbsp strcat(tstring,&nbsp "FRI&nbsp ");</code></td></tr>
<tr><td><code><i>   192</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   193</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 6:&nbsp strcat(tstring,&nbsp "SAT&nbsp ");</code></td></tr>
<tr><td><code><i>   194</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   195</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 7:&nbsp strcat(tstring,&nbsp "SUN&nbsp ");</code></td></tr>
<tr><td><code><i>   196</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   197</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   198</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   199</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp switch&nbsp (dateTime.mon)&nbsp {</code></td></tr>
<tr><td><code><i>   200</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 1:&nbsp strcat(tstring,&nbsp "JAN&nbsp ");</code></td></tr>
<tr><td><code><i>   201</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   202</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 2:&nbsp strcat(tstring,&nbsp "FEB&nbsp ");</code></td></tr>
<tr><td><code><i>   203</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   204</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 3:&nbsp strcat(tstring,&nbsp "MAR&nbsp ");</code></td></tr>
<tr><td><code><i>   205</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   206</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 4:&nbsp strcat(tstring,&nbsp "APR&nbsp ");</code></td></tr>
<tr><td><code><i>   207</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   208</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 5:&nbsp strcat(tstring,&nbsp "MAY&nbsp ");</code></td></tr>
<tr><td><code><i>   209</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   210</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 6:&nbsp strcat(tstring,&nbsp "JUNE&nbsp ");</code></td></tr>
<tr><td><code><i>   211</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   212</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 7:&nbsp strcat(tstring,&nbsp "JULY&nbsp ");</code></td></tr>
<tr><td><code><i>   213</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   214</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 8:&nbsp strcat(tstring,&nbsp "AUG&nbsp ");</code></td></tr>
<tr><td><code><i>   215</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   216</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 9:&nbsp strcat(tstring,&nbsp "SEPT&nbsp ");</code></td></tr>
<tr><td><code><i>   217</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   218</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 10:&nbsp strcat(tstring,&nbsp "OCT&nbsp ");</code></td></tr>
<tr><td><code><i>   219</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   220</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 11:&nbsp strcat(tstring,&nbsp "NOV&nbsp ");</code></td></tr>
<tr><td><code><i>   221</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   222</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 12:&nbsp strcat(tstring,&nbsp "DEC&nbsp ");</code></td></tr>
<tr><td><code><i>   223</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   224</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   225</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   226</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp if&nbsp (dateTime.mday&nbsp&lsaquo &nbsp 10)&nbsp number1&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   227</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp else&nbsp number1&nbsp =&nbsp dateTime.mday&nbsp /&nbsp 10;</code></td></tr>
<tr><td><code><i>   228</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   229</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp number2&nbsp =&nbsp dateTime.mday&nbsp -&nbsp (number1&nbsp *&nbsp 10);</code></td></tr>
<tr><td><code><i>   230</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   231</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp if&nbsp (number1&nbsp&rsaquo &nbsp 0)&nbsp {</code></td></tr>
<tr><td><code><i>   232</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp length&nbsp =&nbsp strlen(tstring);</code></td></tr>
<tr><td><code><i>   233</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp tstring[length]&nbsp =&nbsp number1&nbsp +&nbsp 48;</code></td></tr>
<tr><td><code><i>   234</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp tstring[length&nbsp +&nbsp 1]&nbsp =&nbsp '\0';</code></td></tr>
<tr><td><code><i>   235</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   236</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   237</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp length&nbsp =&nbsp strlen(tstring);</code></td></tr>
<tr><td><code><i>   238</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp tstring[length]&nbsp =&nbsp number2&nbsp +&nbsp 48;</code></td></tr>
<tr><td><code><i>   239</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp tstring[length&nbsp +&nbsp 1]&nbsp =&nbsp '\0';</code></td></tr>
<tr><td><code><i>   240</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   241</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp if&nbsp (number1&nbsp ==&nbsp 1)&nbsp {</code></td></tr>
<tr><td><code><i>   242</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp strcat(tstring,&nbsp "TH&nbsp ");</code></td></tr>
<tr><td><code><i>   243</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp else&nbsp {</code></td></tr>
<tr><td><code><i>   244</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (number2&nbsp ==&nbsp 1)&nbsp strcat(tstring,&nbsp "ST&nbsp ");</code></td></tr>
<tr><td><code><i>   245</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp else&nbsp if&nbsp (number2&nbsp ==&nbsp 2)&nbsp strcat(tstring,&nbsp "ND&nbsp ");</code></td></tr>
<tr><td><code><i>   246</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp else&nbsp if&nbsp (number2&nbsp ==&nbsp 3)&nbsp strcat(tstring,&nbsp "RD&nbsp ");</code></td></tr>
<tr><td><code><i>   247</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp else&nbsp strcat(tstring,&nbsp "TH&nbsp ");</code></td></tr>
<tr><td><code><i>   248</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   249</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ScrollText(tstring);</code></td></tr>
<tr><td><code><i>   250</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //return&nbsp tstring;</code></td></tr>
<tr><td><code><i>   251</i> </code></td><td><code>&nbsp }&nbsp&nbsp //&nbsp string&nbsp length&nbsp&lsaquo  =&nbsp 14</code></td></tr>
<tr><td><code><i>   252</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   253</i> </code></td><td><code>&nbsp uint8_t&nbsp bcd_to_dec(uint8_t&nbsp bcd){</code></td></tr>
<tr><td><code><i>   254</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp return(bcd&nbsp &&nbsp 0x0f)&nbsp +&nbsp ((bcd&nbsp&rsaquo &rsaquo &nbsp 4)&nbsp *&nbsp 10);</code></td></tr>
<tr><td><code><i>   255</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   256</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   257</i> </code></td><td><code>&nbsp uint8_t&nbsp dec_to_bcd(uint8_t&nbsp dec){</code></td></tr>
<tr><td><code><i>   258</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp return(((dec&nbsp /&nbsp 10)&nbsp&lsaquo &lsaquo &nbsp 4)+&nbsp (dec&nbsp %&nbsp 10));</code></td></tr>
<tr><td><code><i>   259</i> </code></td><td><code>&nbsp }</code></BODY>
</HTML>
