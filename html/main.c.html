<HTML>
<HEAD>
<TITLE>Listing of main.c</TITLE>
<LINK rel=stylesheet href="udf_styles.css" type="text/css">
</HEAD>
<BODY>
<table class="">
<tr><td><code><i>     1</i> </code></td><td><code>&nbsp /******************************************************************************/</code></td></tr>
<tr><td><code><i>     2</i> </code></td><td><code>&nbsp /*&nbsp Files&nbsp to&nbsp Include&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp */</code></td></tr>
<tr><td><code><i>     3</i> </code></td><td><code>&nbsp /******************************************************************************/</code></td></tr>
<tr><td><code><i>     4</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>     5</i> </code></td><td><code>&nbsp #include&nbsp&lsaquo  xc.h&rsaquo &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp /*&nbsp Global&nbsp Header&nbsp File&nbsp */</code></td></tr>
<tr><td><code><i>     6</i> </code></td><td><code>&nbsp #include&nbsp&lsaquo  stdint.h&rsaquo &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp /*&nbsp For&nbsp uint8_t&nbsp definition&nbsp */</code></td></tr>
<tr><td><code><i>     7</i> </code></td><td><code>&nbsp //#include&nbsp&lsaquo  stdbool.h&rsaquo &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp /*&nbsp For&nbsp true/false&nbsp definition&nbsp */</code></td></tr>
<tr><td><code><i>     8</i> </code></td><td><code>&nbsp #include&nbsp&lsaquo  string.h&rsaquo  </code></td></tr>
<tr><td><code><i>     9</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    10</i> </code></td><td><code>&nbsp #include&nbsp "global.h"</code></td></tr>
<tr><td><code><i>    11</i> </code></td><td><code>&nbsp #include&nbsp "system.h"&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp /*&nbsp System&nbsp funct/params,&nbsp like&nbsp osc/peripheral&nbsp config&nbsp */</code></td></tr>
<tr><td><code><i>    12</i> </code></td><td><code>&nbsp #include&nbsp "display.h"</code></td></tr>
<tr><td><code><i>    13</i> </code></td><td><code>&nbsp #include&nbsp "swI2C.h"</code></td></tr>
<tr><td><code><i>    14</i> </code></td><td><code>&nbsp #include&nbsp "DS1307.h"</code></td></tr>
<tr><td><code><i>    15</i> </code></td><td><code>&nbsp #include&nbsp "delay.h"</code></td></tr>
<tr><td><code><i>    16</i> </code></td><td><code>&nbsp #include&nbsp "input.h"</code></td></tr>
<tr><td><code><i>    17</i> </code></td><td><code>&nbsp #include&nbsp "tmp75.h"</code></td></tr>
<tr><td><code><i>    18</i> </code></td><td><code>&nbsp #include&nbsp "game.h"</code></td></tr>
<tr><td><code><i>    19</i> </code></td><td><code>&nbsp #include&nbsp "fonts.h"</code></td></tr>
<tr><td><code><i>    20</i> </code></td><td><code>&nbsp /******************************************************************************/</code></td></tr>
<tr><td><code><i>    21</i> </code></td><td><code>&nbsp /*&nbsp User&nbsp Global&nbsp Variable&nbsp Declaration&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp */</code></td></tr>
<tr><td><code><i>    22</i> </code></td><td><code>&nbsp /******************************************************************************/</code></td></tr>
<tr><td><code><i>    23</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    24</i> </code></td><td><code>&nbsp volatile&nbsp unsigned&nbsp char&nbsp currentState&nbsp =&nbsp 1;</code></td></tr>
<tr><td><code><i>    25</i> </code></td><td><code>&nbsp volatile&nbsp unsigned&nbsp long&nbsp milliseconds&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>    26</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    27</i> </code></td><td><code>&nbsp //volatile&nbsp uint8_t&nbsp button_flag&nbsp =&nbsp FULL;</code></td></tr>
<tr><td><code><i>    28</i> </code></td><td><code>&nbsp volatile&nbsp bit&nbsp temp_flag&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>    29</i> </code></td><td><code>&nbsp volatile&nbsp bit&nbsp date_flag&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>    30</i> </code></td><td><code>&nbsp bit&nbsp colon_flag&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>    31</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    32</i> </code></td><td><code>&nbsp uint8_t&nbsp tempString[4];</code></td></tr>
<tr><td><code><i>    33</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    34</i> </code></td><td><code>&nbsp __EEPROM_DATA(0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01);</code></td></tr>
<tr><td><code><i>    35</i> </code></td><td><code>&nbsp /******************************************************************************/</code></td></tr>
<tr><td><code><i>    36</i> </code></td><td><code>&nbsp /*&nbsp Main&nbsp Program&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp */</code></td></tr>
<tr><td><code><i>    37</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    38</i> </code></td><td><code>&nbsp /******************************************************************************/</code></td></tr>
<tr><td><code><i>    39</i> </code></td><td><code>&nbsp void&nbsp TimeNumerical(void);</code></td></tr>
<tr><td><code><i>    40</i> </code></td><td><code>&nbsp void&nbsp TemperatureDisplay(void);</code></td></tr>
<tr><td><code><i>    41</i> </code></td><td><code>&nbsp void&nbsp ScrollTime(void);</code></td></tr>
<tr><td><code><i>    42</i> </code></td><td><code>&nbsp void&nbsp BinaryTime(void);</code></td></tr>
<tr><td><code><i>    43</i> </code></td><td><code>&nbsp void&nbsp SecondsTime(void);</code></td></tr>
<tr><td><code><i>    44</i> </code></td><td><code>&nbsp unsigned&nbsp char&nbsp Read_Eep(&nbsp unsigned&nbsp int&nbsp badd&nbsp );</code></td></tr>
<tr><td><code><i>    45</i> </code></td><td><code>&nbsp void&nbsp Write_Eep(&nbsp unsigned&nbsp int&nbsp badd,unsigned&nbsp char&nbsp bdat&nbsp );</code></td></tr>
<tr><td><code><i>    46</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    47</i> </code></td><td><code>&nbsp void&nbsp main(void){</code></td></tr>
<tr><td><code><i>    48</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    49</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Initialize&nbsp I/O&nbsp and&nbsp MCU&nbsp Peripherals&nbsp */</code></td></tr>
<tr><td><code><i>    50</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp InitPeripherals();</code></td></tr>
<tr><td><code><i>    51</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    52</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Configure&nbsp external&nbsp hardware&nbsp (i.e.&nbsp --&nbsp ic's,&nbsp sensors,&nbsp displays)*/</code></td></tr>
<tr><td><code><i>    53</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ExternalHardware();</code></td></tr>
<tr><td><code><i>    54</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    55</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Configure&nbsp MCU&nbsp timers&nbsp and&nbsp interrupts&nbsp needed*/</code></td></tr>
<tr><td><code><i>    56</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp InitTimersAndInterrupts();</code></td></tr>
<tr><td><code><i>    57</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp </code></td></tr>
<tr><td><code><i>    58</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp while(milliseconds&nbsp&lsaquo &nbsp 1000)&nbsp {</code></td></tr>
<tr><td><code><i>    59</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (BUTTON1&nbsp ==&nbsp CLEAR)&nbsp {</code></td></tr>
<tr><td><code><i>    60</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DEBOUND_LO(BUTTON1,&nbsp DEBOUNCE_AMOUNT);</code></td></tr>
<tr><td><code><i>    61</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DEBOUND_HI(BUTTON1,&nbsp DEBOUNCE_AMOUNT);</code></td></tr>
<tr><td><code><i>    62</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp InputTime();</code></td></tr>
<tr><td><code><i>    63</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RTCSetTime();</code></td></tr>
<tr><td><code><i>    64</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DelayMs(500);</code></td></tr>
<tr><td><code><i>    65</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>    66</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>    67</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    68</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp currentState&nbsp =&nbsp Read_Eep(S_EEP_ADD);</code></td></tr>
<tr><td><code><i>    69</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Main&nbsp loop*/</code></td></tr>
<tr><td><code><i>    70</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp while(1)&nbsp {</code></td></tr>
<tr><td><code><i>    71</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    72</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if((currentState&nbsp&lsaquo &nbsp 1&nbsp )&nbsp ||&nbsp (currentState&nbsp&rsaquo &nbsp MAIN_STATES)){</code></td></tr>
<tr><td><code><i>    73</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp currentState&nbsp =&nbsp TIME_NUMERICAL;</code></td></tr>
<tr><td><code><i>    74</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>    75</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp </code></td></tr>
<tr><td><code><i>    76</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp switch&nbsp (currentState)&nbsp {</code></td></tr>
<tr><td><code><i>    77</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp TIME_NUMERICAL:</code></td></tr>
<tr><td><code><i>    78</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp TimeNumerical();</code></td></tr>
<tr><td><code><i>    79</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>    80</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    81</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp TIME_STRING:</code></td></tr>
<tr><td><code><i>    82</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ScrollTime();</code></td></tr>
<tr><td><code><i>    83</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>    84</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    85</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp SECONDS_TIME:</code></td></tr>
<tr><td><code><i>    86</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp SecondsTime();</code></td></tr>
<tr><td><code><i>    87</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>    88</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    89</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp TIME_BINARY:</code></td></tr>
<tr><td><code><i>    90</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp BinaryTime();</code></td></tr>
<tr><td><code><i>    91</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>    92</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    93</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp TEMP:</code></td></tr>
<tr><td><code><i>    94</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp TemperatureDisplay();</code></td></tr>
<tr><td><code><i>    95</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>    96</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    97</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp GAME:</code></td></tr>
<tr><td><code><i>    98</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp game_loop();</code></td></tr>
<tr><td><code><i>    99</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   100</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   101</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }/**SWITCH(CURRENTSTATE)**/</code></td></tr>
<tr><td><code><i>   102</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   103</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Write_Eep(S_EEP_ADD,currentState);</code></td></tr>
<tr><td><code><i>   104</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }/**WHILE**/</code></td></tr>
<tr><td><code><i>   105</i> </code></td><td><code>&nbsp }/**MAIN**/</code></td></tr>
<tr><td><code><i>   106</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   107</i> </code></td><td><code>&nbsp void&nbsp TimeNumerical(void){</code></td></tr>
<tr><td><code><i>   108</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   109</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp prevSeconds&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   110</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   111</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ZERO_BUTTON_STATES();</code></td></tr>
<tr><td><code><i>   112</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   113</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp do&nbsp {</code></td></tr>
<tr><td><code><i>   114</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RTCGetDateTime();</code></td></tr>
<tr><td><code><i>   115</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((prevSeconds&nbsp !=&nbsp dateTime.sec)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   116</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (date_flag)&nbsp {</code></td></tr>
<tr><td><code><i>   117</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RtcNumberToString(dateTime.mon,&nbsp dateTime.mday,&nbsp dateTime.dstring);</code></td></tr>
<tr><td><code><i>   118</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DisplayText(0,&nbsp 1,&nbsp dateTime.dstring);</code></td></tr>
<tr><td><code><i>   119</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }&nbsp else&nbsp {</code></td></tr>
<tr><td><code><i>   120</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((dateTime.sec&nbsp %&nbsp 2)&nbsp &&&nbsp colon_flag)&nbsp dateTime.tstring[2]&nbsp =&nbsp 32;</code></td></tr>
<tr><td><code><i>   121</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp else&nbsp dateTime.tstring[2]&nbsp =&nbsp 58;&nbsp //&nbsp ':'</code></td></tr>
<tr><td><code><i>   122</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RtcNumberToString(dateTime.hour,&nbsp dateTime.min,&nbsp dateTime.tstring);</code></td></tr>
<tr><td><code><i>   123</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DisplayText(0,&nbsp 1,&nbsp dateTime.tstring);</code></td></tr>
<tr><td><code><i>   124</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   125</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[dateTime.sec&nbsp /&nbsp 4]&nbsp |=&nbsp (1&nbsp&lsaquo &lsaquo &nbsp 7);</code></td></tr>
<tr><td><code><i>   126</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   127</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp prevSeconds&nbsp =&nbsp dateTime.sec;</code></td></tr>
<tr><td><code><i>   128</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   129</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   130</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   131</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ReadButtonState();</code></td></tr>
<tr><td><code><i>   132</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   133</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_0]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   134</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp date_flag&nbsp ^=&nbsp 0x01;</code></td></tr>
<tr><td><code><i>   135</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   136</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   137</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_1]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   138</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp currentState++;</code></td></tr>
<tr><td><code><i>   139</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   140</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_2]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   141</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp colon_flag&nbsp ^=&nbsp 0x01;</code></td></tr>
<tr><td><code><i>   142</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   143</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   144</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp while(currentState&nbsp ==&nbsp TIME_NUMERICAL);</code></td></tr>
<tr><td><code><i>   145</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   146</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp date_flag&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   147</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp colon_flag&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   148</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   149</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   150</i> </code></td><td><code>&nbsp void&nbsp TemperatureDisplay(void){</code></td></tr>
<tr><td><code><i>   151</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   152</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp prevTemp&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   153</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   154</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ZERO_BUTTON_STATES();</code></td></tr>
<tr><td><code><i>   155</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ClearDisplay();</code></td></tr>
<tr><td><code><i>   156</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp do&nbsp {</code></td></tr>
<tr><td><code><i>   157</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp LM75GetTemp();</code></td></tr>
<tr><td><code><i>   158</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((temperature.celcsius&nbsp !=&nbsp prevTemp)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   159</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   160</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (temp_flag){</code></td></tr>
<tr><td><code><i>   161</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp NumberToString(temperature.fahrenheit,tempString);</code></td></tr>
<tr><td><code><i>   162</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp strcat(tempString,"F");</code></td></tr>
<tr><td><code><i>   163</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   164</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp else&nbsp {</code></td></tr>
<tr><td><code><i>   165</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp NumberToString(temperature.celcsius,tempString);</code></td></tr>
<tr><td><code><i>   166</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp strcat(tempString,"C");</code></td></tr>
<tr><td><code><i>   167</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   168</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   169</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DisplayText(2,&nbsp 2,&nbsp tempString);</code></td></tr>
<tr><td><code><i>   170</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp prevTemp&nbsp =&nbsp temperature.celcsius;</code></td></tr>
<tr><td><code><i>   171</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   172</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   173</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   174</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ReadButtonState();</code></td></tr>
<tr><td><code><i>   175</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   176</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_1]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   177</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp currentState++;</code></td></tr>
<tr><td><code><i>   178</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   179</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   180</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_0]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   181</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp temp_flag&nbsp =&nbsp FAHRENHEIT;</code></td></tr>
<tr><td><code><i>   182</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   183</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   184</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   185</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_2]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   186</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp temp_flag&nbsp =&nbsp CELSIUS;</code></td></tr>
<tr><td><code><i>   187</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   188</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   189</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   190</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp while(currentState&nbsp ==&nbsp TEMP);</code></td></tr>
<tr><td><code><i>   191</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   192</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   193</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   194</i> </code></td><td><code>&nbsp void&nbsp ScrollTime(void){</code></td></tr>
<tr><td><code><i>   195</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp loopStart&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   196</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp state&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   197</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   198</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ClearDisplay();</code></td></tr>
<tr><td><code><i>   199</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp do&nbsp {</code></td></tr>
<tr><td><code><i>   200</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (loopStart)&nbsp {</code></td></tr>
<tr><td><code><i>   201</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RTCGetDateTime();</code></td></tr>
<tr><td><code><i>   202</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp LM75GetTemp();</code></td></tr>
<tr><td><code><i>   203</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp loopStart&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   204</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   205</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp switch&nbsp (state)&nbsp {</code></td></tr>
<tr><td><code><i>   206</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 0:</code></td></tr>
<tr><td><code><i>   207</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ScrollText(string_IT_IS);</code></td></tr>
<tr><td><code><i>   208</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp state&nbsp =&nbsp 1;</code></td></tr>
<tr><td><code><i>   209</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   210</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 1:</code></td></tr>
<tr><td><code><i>   211</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp NumberToString(temperature.celcsius,tempString);</code></td></tr>
<tr><td><code><i>   212</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp strcat(tempString,"C");</code></td></tr>
<tr><td><code><i>   213</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ScrollText(tempString);</code></td></tr>
<tr><td><code><i>   214</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp state&nbsp =&nbsp 2;</code></td></tr>
<tr><td><code><i>   215</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   216</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 2:</code></td></tr>
<tr><td><code><i>   217</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ScrollText(string_AT);</code></td></tr>
<tr><td><code><i>   218</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp state&nbsp =&nbsp 3;</code></td></tr>
<tr><td><code><i>   219</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   220</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 3:</code></td></tr>
<tr><td><code><i>   221</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RtcNumberToString(dateTime.hour,&nbsp dateTime.min,&nbsp dateTime.tstring);</code></td></tr>
<tr><td><code><i>   222</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ScrollText(dateTime.tstring);</code></td></tr>
<tr><td><code><i>   223</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp state&nbsp =&nbsp 4;</code></td></tr>
<tr><td><code><i>   224</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   225</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 4:</code></td></tr>
<tr><td><code><i>   226</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ScrollText(string_ON);</code></td></tr>
<tr><td><code><i>   227</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp state&nbsp =&nbsp 5;</code></td></tr>
<tr><td><code><i>   228</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   229</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp case&nbsp 5:</code></td></tr>
<tr><td><code><i>   230</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DateStringLong();</code></td></tr>
<tr><td><code><i>   231</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp state&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   232</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp loopStart&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   233</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp break;</code></td></tr>
<tr><td><code><i>   234</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   235</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp while(currentState&nbsp ==&nbsp TIME_STRING);</code></td></tr>
<tr><td><code><i>   236</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   237</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   238</i> </code></td><td><code>&nbsp void&nbsp SecondsTime(void){</code></td></tr>
<tr><td><code><i>   239</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   240</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   241</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp prevSeconds&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   242</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   243</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ZERO_BUTTON_STATES();</code></td></tr>
<tr><td><code><i>   244</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   245</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp do&nbsp {</code></td></tr>
<tr><td><code><i>   246</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RTCGetDateTime();</code></td></tr>
<tr><td><code><i>   247</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((prevSeconds&nbsp !=&nbsp dateTime.sec)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   248</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((dateTime.sec&nbsp ==&nbsp 0x00)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   249</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RtcNumberToString(dateTime.hour,&nbsp dateTime.min,&nbsp dateTime.tstring);</code></td></tr>
<tr><td><code><i>   250</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DisplayText(0,&nbsp 0,&nbsp dateTime.tstring);</code></td></tr>
<tr><td><code><i>   251</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }&nbsp else&nbsp {</code></td></tr>
<tr><td><code><i>   252</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp NumberToString(dateTime.sec,&nbsp tempString);</code></td></tr>
<tr><td><code><i>   253</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DisplayText(4,&nbsp 1,&nbsp tempString);</code></td></tr>
<tr><td><code><i>   254</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   255</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   256</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp prevSeconds&nbsp =&nbsp dateTime.sec;</code></td></tr>
<tr><td><code><i>   257</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   258</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   259</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   260</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ReadButtonState();</code></td></tr>
<tr><td><code><i>   261</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   262</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_1]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   263</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp currentState++;</code></td></tr>
<tr><td><code><i>   264</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   265</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   266</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_2]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   267</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   268</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   269</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp while(currentState&nbsp ==&nbsp SECONDS_TIME);</code></td></tr>
<tr><td><code><i>   270</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   271</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   272</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   273</i> </code></td><td><code>&nbsp void&nbsp BinaryTime(void){</code></td></tr>
<tr><td><code><i>   274</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp prevSec,&nbsp prevMin,&nbsp prevHr;</code></td></tr>
<tr><td><code><i>   275</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp firstLoop&nbsp =&nbsp SET;</code></td></tr>
<tr><td><code><i>   276</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   277</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ZERO_BUTTON_STATES();</code></td></tr>
<tr><td><code><i>   278</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ClearDisplay();</code></td></tr>
<tr><td><code><i>   279</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   280</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp do&nbsp {</code></td></tr>
<tr><td><code><i>   281</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp RTCGetDateTime();</code></td></tr>
<tr><td><code><i>   282</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((prevSec&nbsp !=&nbsp dateTime.sec)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   283</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[10]&nbsp =&nbsp display.cols[11]&nbsp =&nbsp binFont[dateTime.sec&nbsp /&nbsp 10];</code></td></tr>
<tr><td><code><i>   284</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[13]&nbsp =&nbsp display.cols[14]&nbsp =&nbsp binFont[dateTime.sec&nbsp %&nbsp 10];</code></td></tr>
<tr><td><code><i>   285</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp prevSec&nbsp =&nbsp dateTime.sec;</code></td></tr>
<tr><td><code><i>   286</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((prevMin&nbsp !=&nbsp dateTime.min)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   287</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[5]&nbsp =&nbsp display.cols[6]&nbsp =&nbsp binFont[dateTime.min&nbsp /&nbsp 10];</code></td></tr>
<tr><td><code><i>   288</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[8]&nbsp =&nbsp display.cols[9]&nbsp =&nbsp binFont[dateTime.min&nbsp %&nbsp 10];</code></td></tr>
<tr><td><code><i>   289</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp prevMin&nbsp =&nbsp dateTime.min;</code></td></tr>
<tr><td><code><i>   290</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp ((prevHr&nbsp !=&nbsp dateTime.hour)&nbsp ||&nbsp firstLoop)&nbsp {</code></td></tr>
<tr><td><code><i>   291</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[0]&nbsp =&nbsp display.cols[1]&nbsp =&nbsp binFont[dateTime.hour&nbsp /&nbsp 10];</code></td></tr>
<tr><td><code><i>   292</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp display.cols[3]&nbsp =&nbsp display.cols[4]&nbsp =&nbsp binFont[dateTime.hour&nbsp %&nbsp 10];</code></td></tr>
<tr><td><code><i>   293</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp prevHr&nbsp =&nbsp dateTime.hour;</code></td></tr>
<tr><td><code><i>   294</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   295</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   296</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp firstLoop&nbsp =&nbsp CLEAR;</code></td></tr>
<tr><td><code><i>   297</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   298</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   299</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ReadButtonState();</code></td></tr>
<tr><td><code><i>   300</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   301</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp if&nbsp (buttonState[BUTTON_1]&nbsp ==&nbsp ON)&nbsp {</code></td></tr>
<tr><td><code><i>   302</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp currentState++;</code></td></tr>
<tr><td><code><i>   303</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp }</code></td></tr>
<tr><td><code><i>   304</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   305</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp while(currentState&nbsp ==&nbsp TIME_BINARY);</code></td></tr>
<tr><td><code><i>   306</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   307</i> </code></td><td><code>&nbsp }/***BINARYTIME***/</code></td></tr>
<tr><td><code><i>   308</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   309</i> </code></td><td><code>&nbsp unsigned&nbsp char&nbsp Read_Eep(&nbsp unsigned&nbsp int&nbsp badd&nbsp )</code></td></tr>
<tr><td><code><i>   310</i> </code></td><td><code>&nbsp {</code></td></tr>
<tr><td><code><i>   311</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EEADR&nbsp =&nbsp (badd&nbsp &&nbsp 0x0ff);</code></td></tr>
<tr><td><code><i>   312</i> </code></td><td><code>&nbsp &nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.CFGS&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   313</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.EEPGD&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   314</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.RD&nbsp =&nbsp 1;</code></td></tr>
<tr><td><code><i>   315</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Nop();&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp //Nop&nbsp may&nbsp be&nbsp required&nbsp for&nbsp latency&nbsp at&nbsp high&nbsp frequencies</code></td></tr>
<tr><td><code><i>   316</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Nop();&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp //Nop&nbsp may&nbsp be&nbsp required&nbsp for&nbsp latency&nbsp at&nbsp high&nbsp frequencies</code></td></tr>
<tr><td><code><i>   317</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp return&nbsp (&nbsp EEDATA&nbsp );&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //&nbsp return&nbsp with&nbsp read&nbsp byte</code></td></tr>
<tr><td><code><i>   318</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   319</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   320</i> </code></td><td><code>&nbsp void&nbsp Write_Eep(&nbsp unsigned&nbsp int&nbsp badd,unsigned&nbsp char&nbsp bdat&nbsp )</code></td></tr>
<tr><td><code><i>   321</i> </code></td><td><code>&nbsp {</code></td></tr>
<tr><td><code><i>   322</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp char&nbsp GIE_BIT_VAL&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   323</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EEADR&nbsp =&nbsp (badd&nbsp &&nbsp 0x0ff);</code></td></tr>
<tr><td><code><i>   324</i> </code></td><td><code>&nbsp &nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp EEDATA&nbsp =&nbsp bdat;</code></td></tr>
<tr><td><code><i>   325</i> </code></td><td><code>&nbsp &nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.EEPGD&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   326</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.CFGS&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   327</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.WREN&nbsp =&nbsp 1;</code></td></tr>
<tr><td><code><i>   328</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp GIE_BIT_VAL&nbsp =&nbsp INTCONbits.GIE;</code></td></tr>
<tr><td><code><i>   329</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp INTCONbits.GIE&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   330</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON2&nbsp =&nbsp 0x55;</code></td></tr>
<tr><td><code><i>   331</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON2&nbsp =&nbsp 0xAA;</code></td></tr>
<tr><td><code><i>   332</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.WR&nbsp =&nbsp 1;</code></td></tr>
<tr><td><code><i>   333</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp while(EECON1bits.WR);&nbsp&nbsp &nbsp&nbsp &nbsp&nbsp &nbsp&nbsp //Wait&nbsp till&nbsp the&nbsp write&nbsp completion</code></td></tr>
<tr><td><code><i>   334</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp INTCONbits.GIE&nbsp =&nbsp GIE_BIT_VAL;</code></td></tr>
<tr><td><code><i>   335</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp EECON1bits.WREN&nbsp =&nbsp 0;</code></td></tr>
<tr><td><code><i>   336</i> </code></td><td><code>&nbsp }</code></BODY>
</HTML>
